"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getLernaJson = exports.isMonorepo = exports.loadPackageJson = exports.writeFile = exports.readFile = void 0;
const tslib_1 = require("tslib");
const fs = tslib_1.__importStar(require("fs"));
const path_1 = tslib_1.__importDefault(require("path"));
const util_1 = require("util");
exports.readFile = util_1.promisify(fs.readFile);
exports.writeFile = util_1.promisify(fs.writeFile);
/** Load and parse the root package json for the project */
async function loadPackageJson(root = "./") {
    return JSON.parse(await exports.readFile(path_1.default.join(root, "package.json"), "utf-8"));
}
exports.loadPackageJson = loadPackageJson;
/** Check if the project is a monorepo */
exports.isMonorepo = () => fs.existsSync("lerna.json");
/** Parse the lerna.json file. */
exports.getLernaJson = () => {
    try {
        return JSON.parse(fs.readFileSync("lerna.json", "utf8"));
    }
    catch (error) {
        return {};
    }
};
//# sourceMappingURL=utils.js.map